OBJS =  btcore/btprofiles/a2dp/a2dp.o \
	btcore/btprofiles/a2dp/a2dpevent.o \
	btcore/btprofiles/a2dp/a2dputil.o \
	btcore/btprofiles/avrcp/avrcp.o \
	btcore/btprofiles/avrcp/avrcpevent.o \
	btcore/btprofiles/avrcp/avrcpsdp.o \
	btcore/btprofiles/avrcp/avrcputil.o \
	btcore/btprofiles/bip/bip.o \
	btcore/btprofiles/bip/bip_sm.o \
	btcore/btprofiles/bip/bipobs.o \
	btcore/btprofiles/bip/bipparse.o \
	btcore/btprofiles/bip/biputil.o \
	btcore/btprofiles/bpp/bpp.o \
	btcore/btprofiles/bpp/bpp_data.o \
	btcore/btprofiles/bpp/bpp_text.o \
	btcore/btprofiles/bpp/bpp_util.o \
	btcore/btprofiles/hid/hid.o \
	btcore/btprofiles/hid/hid_ctrl.o \
	btcore/btprofiles/hid/hid_intr.o \
	btcore/btprofiles/hid/hid_sdp.o \
	btcore/btprofiles/hid/hid_sm.o \
	btcore/btprofiles/hid/hid_util.o \
	btcore/btprofiles/hid/hidalloc.o \
	btcore/btprofiles/hid/hid_parser.o \
	btcore/btprofiles/ftp/ftp.o \
	btcore/btprofiles/ftp/ftp_sm.o \
	btcore/btprofiles/ftp/ftp_event.o \
	btcore/btprofiles/ftp/ftpobs.o \
	btcore/btprofiles/ftp/ftputil.o \
	btcore/btprofiles/add-ins/at/at_dun.o \
	btcore/btprofiles/add-ins/at/at_hf.o \
	btcore/btprofiles/add-ins/at/at_hs.o \
	btcore/btprofiles/add-ins/at/at_pb.o \
	btcore/btprofiles/add-ins/at/at_sms.o \
	btcore/btprofiles/add-ins/at/atp.o \
	btcore/btprofiles/goep/goep.o \
	btcore/btprofiles/goep/goep_main.o \
	btcore/btprofiles/hfp/hf.o \
	btcore/btprofiles/hfp/hf_sdp.o \
	btcore/btprofiles/hfp/hf_sm.o \
	btcore/btprofiles/hfp/hf_util.o \
	btcore/btprofiles/hfp/hfalloc.o \
	btcore/btprofiles/hfp/hfg.o \
	btcore/btprofiles/hfp/hfg_at.o \
	btcore/btprofiles/hfp/hfg_sdp.o \
	btcore/btprofiles/hfp/hfg_seq.o \
	btcore/btprofiles/hfp/hfg_sm.o \
	btcore/btprofiles/hfp/hfg_util.o \
	btcore/btprofiles/hfp/hfgalloc.o \
	btcore/btprofiles/obex/obclient.o \
	btcore/btprofiles/obex/obdebug.o \
	btcore/btprofiles/obex/obex_utl.o \
	btcore/btprofiles/obex/obexauth.o \
	btcore/btprofiles/obex/obheader.o \
	btcore/btprofiles/obex/obparse.o \
	btcore/btprofiles/obex/observer.o \
	btcore/btprofiles/obex/obstack.o \
	btcore/btprofiles/obex/obxalloc.o \
	btcore/btprofiles/obex/obxbtstk.o \
	btcore/btprofiles/obex/obxirstk.o \
	btcore/btprofiles/obex/obxoemstk.o \
	btcore/btprofiles/obex/obxtcpstk.o \
	btcore/btprofiles/opp/opp.o \
	btcore/btprofiles/pbap/pbap.o \
	btcore/btprofiles/pbap/pbapobs.o \
	btcore/btprofiles/sdpdb/a2dpsdpdb.o \
	btcore/btprofiles/sdpdb/appsdpdb.o \
	btcore/btprofiles/sdpdb/avrcpsdpdb.o \
	btcore/btprofiles/sdpdb/hfsdpdb.o \
	btcore/btprofiles/sdpdb/hfagsdpdb.o \
	btcore/btprofiles/sdpdb/hidsdpdb.o \
	btcore/btprofiles/sdpdb/hssdpdb.o \
	btcore/btprofiles/sdpdb/hsagsdpdb.o \
	btcore/btprofiles/sdpdb/obexsdpdb.o \
	btcore/btprofiles/sdpdb/sdpdb.o \
	btcore/btprofiles/sdpdb/sppsdpdb.o \
	btcore/btprofiles/sdpdb/prxsdpdb.o \
	btcore/btprofiles/sdpdb/pansdpdb.o \
	btcore/btprofiles/sdpdb/timesdpdb.o \
	btcore/btprofiles/sdpdb/attsdpdb.o \
	btcore/btprofiles/sdpdb/hdpsdpdb.o \
	btcore/btprofiles/attdb/attdbmain.o \
	btcore/btprofiles/attdb/gapattdb.o \
	btcore/btprofiles/attdb/prxattdb.o \
	btcore/btprofiles/attdb/timeattdb.o \
	btcore/btprofiles/simap/testing/fake_sim.o \
	btcore/btprofiles/simap/testing/simaptester.o \
	btcore/btprofiles/simap/sim.o \
	btcore/btprofiles/simap/sim_server.o \
	btcore/btprofiles/simap/sim_sm.o \
	btcore/btprofiles/simap/sim_util.o \
	btcore/btprofiles/simap/simap_api.o \
	btcore/btprofiles/spp/bt_spp_os.o \
	btcore/btprofiles/spp/spp.o \
	btcore/btprofiles/spp/spp_api.o \
	btcore/btprofiles/map/map.o \
	btcore/btprofiles/map/map_event.o \
	btcore/btprofiles/map/map_obs.o \
	btcore/btprofiles/jsr82/jsr82_session.o \
	btcore/btprofiles/jsr82/jsr82_ringbuf.o \
	btcore/btprofiles/prx/prxr.o \
	btcore/btprofiles/prx/prxm.o \
	btcore/btprofiles/prx/prxadapter.o \
	btcore/btprofiles/pan/pan.o \
	btcore/btprofiles/pan/pan_sdp.o \
	btcore/btprofiles/pan/pan_sm.o \
	btcore/btprofiles/pan/pan_util.o \
	btcore/btprofiles/time/timec.o \
	btcore/btprofiles/time/times.o \
	btcore/btprofiles/time/timeadapter.o \
	btcore/btprofiles/hdp/hdp.o \
	btcore/btprofiles/hdp/hdp_event.o \
	btcore/btprofiles/hdp/hdp_util.o \
	btcore/btprofiles/hdp/hdp_sdp.o \
	btcore/os/bt_osapi.o \
	btcore/os/bt_profile_init.o \
	btcore/utility/bt_ddb4w.o \
	btcore/utility/Bt_debug.o \
	btcore/utility/bt_utility.o \
	btcore/utility/virtual_sniffs.o \
	btadp_int/bt_adp_profile_init.o \
	btadp_int/common/ucs2/bt_ucs2.o \
	btadp_int/common/xmlp/xml_main.o \
	btadp_int/driver/uart/bt_uart_drv.o \
	btadp_int/driver/uart/bt_uart_log_drv.o \
	btadp_int/driver/uart/platform/linux_uart.o \
	btadp_int/profiles/a2dp/bt_adp_a2dp.o \
	btadp_int/profiles/a2dp/bt_adp_a2dp_event.o \
	btadp_int/profiles/a2dp/bt_adp_a2dpfake.o \
	btadp_int/profiles/avrcp/bt_adp_avrcp.o \
	btadp_int/profiles/bip/bt_adp_bip.o \
	btadp_int/profiles/bpp/bt_adp_bpp.o \
	btadp_int/profiles/hid/bt_adp_hidd.o \
	btadp_int/profiles/hid/bt_adp_hidh.o \
	btadp_int/profiles/gap/bt_adp_bm.o \
	btadp_int/profiles/gap/bt_adp_bm_event.o \
	btadp_int/profiles/hfp/bt_adp_hf.o \
	btadp_int/profiles/hfp/bt_adp_hfg.o \
	btadp_int/profiles/hfp/bt_adp_hfg_event.o \
	btadp_int/profiles/simap/bt_adp_simap.o \
	btadp_int/profiles/simap/bt_adp_simap_event.o \
	btadp_int/profiles/pbap/bt_adp_pbap.o \
	btadp_int/profiles/spp/bt_adp_spp.o \
	btadp_int/profiles/spp/bt_adp_spp_event.o \
	btadp_int/profiles/map/bt_adp_map.o \
	btadp_int/profiles/jsr82/bt_adp_jsr82.o \
	btadp_int/profiles/jsr82/bt_adp_jsr82_event.o \
	btadp_int/profiles/prx/bt_adp_prx.o \
	btadp_int/profiles/pan/bt_adp_pan.o \
	btadp_int/profiles/pan/bt_adp_pan_ip.o \
	btadp_int/profiles/time/bt_adp_time.o \
	btadp_int/profiles/hdp/bt_adp_hdp.o \
	btadp_int/sys/bt_adp_em.o \
	btadp_int/sys/bt_adp_fs.o \
	btadp_int/sys/bt_adp_fs_ucs2.o \
	btadp_int/sys/bt_adp_log.o \
	btadp_int/sys/bt_adp_main.o \
	btadp_int/sys/bt_adp_utility.o \
	btadp_int/sys/bt_adp_msg.o \
	btadp_int/sys/bt_adp_sys_event.o \
	btadp_int/sys/bt_adp_system.o \
	btadp_int/sys/bt_osal.o \
	btadp_int/sys/bt_osal_string.o \
	btadp_int/sys/bt_osal_vcard.o \
	btadp_int/sys/bt_osal_qp.o \
	btadp_int/sys/bt_osal_charset.o \
	btadp_int/sys/bt_adp_mem.o \
	btadp_int/sys/bt_adp_a2mp.o \
	btadp_int/sys/ring.o \
	linuxsystem/src/interlayer.o \
	linuxsystem/src/btmainthread.o \
	btadp_int/sys/bt_adp_log_msg.o \
	linuxsystem/src/cmdqueue.o \
	linuxsystem/src/bttstthread.o \
	btadp_int/common/tstrb/tst_ringbuffer.o \
	linuxsystem/src/eint.o \
	linuxsystem/src/btnet.o \
	bwcs/bwcs.o \
	bwcs/wifi_wmt.o \
	btadp_int/sys/bt_adp_debug.o \
	btcore/btstack/hcitrans/bt_parseopts.o \
	btcore/btstack/hcitrans/transprt.o \
	btcore/btstack/hcitrans/modinit/radiomod.o \
	btcore/btstack/hcitrans/modinit/test_bt_patch.o \
	btcore/btstack/hcitrans/uart/uarttran.o \
	btcore/btstack/hcitrans/usb/usbtrans.o \
	btcore/btstack/stack/Bt_Virtual_Sniffer.o \
	btcore/btstack/stack/bt_wifi_coexist_setting.o \
	btcore/btstack/stack/btalloc.o \
	btcore/btstack/stack/btrom.o \
	btcore/btstack/stack/btutils.o \
	btcore/btstack/stack/debug.o \
	btcore/btstack/stack/eventmgr.o \
	btcore/btstack/stack/radiomgr.o \
	btcore/btstack/stack/rxbuff.o \
	btcore/btstack/stack/utils.o \
	btcore/btstack/stack/x_file.o \
	btcore/btstack/stack/avctp/avc.o \
	btcore/btstack/stack/avctp/avctp.o \
	btcore/btstack/stack/avctp/avctpcon.o \
	btcore/btstack/stack/avctp/avctpmsg.o \
	btcore/btstack/stack/avdtp/avalloc.o \
	btcore/btstack/stack/avdtp/avdtp.o \
	btcore/btstack/stack/avdtp/avdtpcon.o \
	btcore/btstack/stack/avdtp/avsigmgr.o \
	btcore/btstack/stack/bm/BtAccCtrl.o \
	btcore/btstack/stack/bm/Btbm.o \
	btcore/btstack/stack/bm/BtbmBlocklist.o \
	btcore/btstack/stack/bm/BtbmCon.o \
	btcore/btstack/stack/bm/BtbmDev.o \
	btcore/btstack/stack/bm/BtbmProfilesCtrl.o \
	btcore/btstack/stack/bm/BtbmSdp.o \
	btcore/btstack/stack/bm/BtbmSec.o \
	btcore/btstack/stack/bm/BtbmSetting.o \
	btcore/btstack/stack/bm/BtbmGatt.o \
	btcore/btstack/stack/bnep/bnep.o \
	btcore/btstack/stack/bnep/bnep_sm.o \
	btcore/btstack/stack/bnep/bneputil.o \
	btcore/btstack/stack/mcap/mcap.o \
	btcore/btstack/stack/mcap/mcap_sm.o \
	btcore/btstack/stack/mcap/mcap_util.o \
	btcore/btstack/stack/common/avtp.o \
	btcore/btstack/stack/common/conmgr.o \
	btcore/btstack/stack/common/bt_wmt.o \
	btcore/btstack/stack/hci/hci.o \
	btcore/btstack/stack/hci/hci_evnt.o \
	btcore/btstack/stack/hci/hci_meta.o \
	btcore/btstack/stack/hci/hci_proc.o \
	btcore/btstack/stack/hci/hci_util.o \
	btcore/btstack/stack/hci/hci_amp.o \
	btcore/btstack/stack/l2cap/l2cap.o \
	btcore/btstack/stack/l2cap/l2cap_if.o \
	btcore/btstack/stack/l2cap/l2cap_sm.o \
	btcore/btstack/stack/l2cap/l2cap_utl.o \
	btcore/btstack/stack/l2cap/l2cap_amp.o \
	btcore/btstack/stack/l2cap/l2cap_ampchan.o \
	btcore/btstack/stack/l2cap/l2cap_enhanced.o \
	btcore/btstack/stack/me/me.o \
	btcore/btstack/stack/me/meacc.o \
	btcore/btstack/stack/me/mecon.o \
	btcore/btstack/stack/me/medev.o \
	btcore/btstack/stack/me/Meeir.o \
	btcore/btstack/stack/me/meif.o \
	btcore/btstack/stack/me/MeRadio.o \
	btcore/btstack/stack/me/mesco.o \
	btcore/btstack/stack/me/mescodat.o \
	btcore/btstack/stack/me/mescoif.o \
	btcore/btstack/stack/me/mesec.o \
	btcore/btstack/stack/me/meamp.o \
	btcore/btstack/stack/me/mele.o \
	btcore/btstack/stack/rfcomm/rfc_ctl.o \
	btcore/btstack/stack/rfcomm/rfc_fcs.o \
	btcore/btstack/stack/rfcomm/rfc_sm.o \
	btcore/btstack/stack/rfcomm/rfc_util.o \
	btcore/btstack/stack/rfcomm/rfcomm.o \
	btcore/btstack/stack/sdap/sdap.o \
	btcore/btstack/stack/sdp/sdp.o \
	btcore/btstack/stack/sdp/sdpclient.o \
	btcore/btstack/stack/sdp/sdpserv.o \
	btcore/btstack/stack/sdp/sdputil.o \
	btcore/btstack/stack/a2mp/a2mp.o \
	btcore/btstack/stack/a2mp/a2mp_ctl.o \
	btcore/btstack/stack/a2mp/a2mp_sec.o \
	btcore/btstack/stack/a2mp/a2mp_sm.o \
	btcore/btstack/stack/a2mp/a2mp_util.o \
	btcore/btstack/stack/sha256/mtkbt_hmac_sha2.o \
	btcore/btstack/stack/att/att.o \
	btcore/btstack/stack/att/att_utl.o \
	btcore/btstack/stack/att/att_state.o \
	btcore/btstack/stack/gatt/gatt.o \
	btcore/btstack/stack/gatt/gatt_hdl.o \
	btcore/btstack/stack/gatt/gatt_state.o \
	btcore/btstack/stack/gatt/gatt_utl.o \
	btcore/btstack/stack/sm/sm.o \
	btcore/btstack/stack/sm/smp.o \
	btcore/btstack/stack/gavdp/gavdp.o \

       
CFLAGS += \
	-D__BTMTK__ \
	-D__BT_VER_30__ \
	-D__BT_GAP_PROFILE__ \
	-D__BT_A2DP_PROFILE__ \
	-D__BT_SPP_PROFILE__ \
	-D__BT_SPP_SRV_NO_SCO__ \
	-D__BT_SPP_CLI_NO_SCO__ \
	-D__BT_SPP_GENERAL__ \
	-D__XML_SUPPORT__ \
	-DVR_ENABLE \
	-DNO_SEPARATE_HFG \
	-D__BT_AVRCP_PROFILE__ \
	-D__USE_BT_RING_BUF_API__ \
	-D__LINUX_SUPPRESS_ERROR__ \
	-DBTMTK_ON_LINUX \
	-DUSE_EXT_AT_PARSER \
	-D__SDAP_REQUEST_QUEUE__ \
	-D__SDP_EXIT_SNIFF_MODE__ \
	-DBT_READ_RSSI \
	-DLINUX \
	-g \
	-Wall \
	-D__PRJ_MT7650_SONY_BDP__ \
	-D__BT_AVRCP_V14__ \
	-DFOR_UBUNTU_TEST \
	-D__VIRTUAL_SNIFFER__ \
	-D__SAVE_LOG_TO_FILE__ \
	-D__BT_USE_KERNEL_DRIVER__ \
	-DSUPPORT_AUTO_SEND_AVDTP_START \
	-DSAVE_TERMINAL_LOG_TO_FILE \
	-DENABLE_VIRTUAL_SNIFFER_LOG \
#	-D__BT_TRANSPORT_DRV__ \
#	-Werror \
#	-D__BT_CSR_USB_CHIP__	\
#	-D__USE_CATCHER_LOG__
#	-D__DUMP_AUDIO_TO_FILE__ \
#	-D__PRINT_A2DP_DATA_LOG__ \
#	-D__SPP_SHARED_MEMORY__ \
	
INCLUDES = \
	-Iinclude \
	-Iinclude/common \
	-Iinclude/common/default \
	-Iinclude/profiles \
	-Iinclude/pal \
	-Ibtcore/inc \
	-Ibtcore/inc/sys \
	-Ibtcore/btstack/inc \
	-Ibtcore/btprofiles/include \
	-Ibtadp_int/driver/include \
	-Ibtadp_int/driver/uart/platform \
	-Ibtadp_int/include \
	-Idummyinc \
	-Ilinuxsystem/include \
	-Ibtadp_int/common/sbc \
	-I_bt_scripts/include \
	-Ibwcs/inc \
	-Ilib/include/glib-2.0 \
	-Ilib/include/glib-2.0/gio \
	-Ilib/include/glib-2.0/glib \
	-Ilib/include/glib-2.0/gobject \
        
LDFLAGS += \
    -lpthread \
    -lm \

all: blueangel

%.o: %.c ./include/*.h ./include/common/*.h ./include/profiles/*.h ./include/common/default/*.h Makefile
	$(CC) $(CFLAGS) $(INCLUDES) -c -o $@ $<

blueangel: $(OBJS)
	$(CC) $(OBJS) $(LDFLAGS) -o blueangel

romfs:
	$(ROMFSINST) /sbin/blueangel

clean: 
	-rm -f blueangel
	-rm -f btlog
	-rm -f $(OBJS)
	
$(warning =============================================)
$(warning CC=$(CC) )
$(warning ROMFSINST=$(ROMFSINST) )
$(warning =============================================)
